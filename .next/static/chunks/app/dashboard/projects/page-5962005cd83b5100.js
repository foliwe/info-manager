(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{7232:(e,t,r)=>{Promise.resolve().then(r.bind(r,4653))},4653:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(5155),l=r(2115),a=r(2883),i=r(351),n=r(7917),o=r(8715),d=r(1542);let c={name:"",description:"",repository_url:"",live_url:""};function u(){let{supabase:e,user:t}=(0,a._)(),[r,u]=(0,l.useState)([]),[m,x]=(0,l.useState)(!0),[h,p]=(0,l.useState)(!1),[f,v]=(0,l.useState)(!1),[b,y]=(0,l.useState)(!1),[g,j]=(0,l.useState)(c),[N,w]=(0,l.useState)(!1),[_,k]=(0,l.useState)(null),[C,L]=(0,l.useState)(null);(0,l.useEffect)(()=>{t&&S()},[t]);let S=async()=>{if(t)try{x(!0),k(null);let{data:r,error:s}=await e.from("projects").select("*").eq("user_id",t.id).order("id",{ascending:!0});if(s)throw s;u(r||[])}catch(e){console.error("Error fetching projects:",e),k(e.message)}finally{x(!1)}},E=async r=>{if(r.preventDefault(),t){if(!g.name||!g.description){k("Project name and description are required");return}try{if(p(!0),k(null),N){let{error:t}=await e.from("projects").update({name:g.name,description:g.description,repository_url:g.repository_url,live_url:g.live_url}).eq("id",C);if(t)throw t}else{let{error:r}=await e.from("projects").insert([{...g,user_id:t.id}]);if(r)throw r}j(c),v(!1),w(!1),await S()}catch(e){console.error("Error saving project:",e),k(e.message)}finally{p(!1)}}},R=async r=>{if(t&&confirm("Are you sure you want to delete this project?"))try{let{error:s}=await e.from("projects").delete().eq("id",r).eq("user_id",t.id);if(s)throw s;await S()}catch(e){console.error("Error deleting project:",e),k(e.message)}};return m?(0,s.jsx)("div",{children:"Loading..."}):(0,s.jsxs)("div",{className:"space-y-6",children:[_&&(0,s.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,s.jsx)("div",{className:"ml-3",children:(0,s.jsx)("p",{className:"text-sm text-red-700",children:_})})]})}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Projects"}),(0,s.jsx)("button",{onClick:()=>{j(c),w(!1),v(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Add Project"})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Repository"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Live URL"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.name}),(0,s.jsx)("td",{className:"px-6 py-4",children:e.description}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.repository_url&&(0,s.jsx)("a",{href:e.repository_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline",children:"Repository"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.live_url&&(0,s.jsx)("a",{href:e.live_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline",children:"Live Demo"})}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap space-x-2",children:[(0,s.jsx)("button",{onClick:()=>{j(e),w(!0),y(!0)},className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",title:"View Project",children:(0,s.jsx)(i.A,{className:"h-4 w-4","aria-hidden":"true"})}),(0,s.jsx)("button",{onClick:()=>{j({name:e.name,description:e.description,repository_url:e.repository_url||"",live_url:e.live_url||""}),L(e.id),w(!0),v(!0)},className:"text-green-600 hover:text-green-900",children:(0,s.jsx)(n.A,{className:"h-5 w-5"})}),(0,s.jsx)("button",{onClick:()=>R(e.id),className:"text-red-600 hover:text-red-900",children:(0,s.jsx)(o.A,{className:"h-5 w-5"})})]})]},e.id))})]})}),(0,s.jsx)(d.A,{isOpen:f,onClose:()=>v(!1),title:N?"Edit Project":"Add Project",children:(0,s.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Project Name"}),(0,s.jsx)("input",{type:"text",name:"name",id:"name",value:g.name,onChange:e=>j({...g,name:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,s.jsx)("textarea",{name:"description",id:"description",rows:3,value:g.description,onChange:e=>j({...g,description:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"repository_url",className:"block text-sm font-medium text-gray-700",children:"Repository URL"}),(0,s.jsx)("input",{type:"url",name:"repository_url",id:"repository_url",value:g.repository_url,onChange:e=>j({...g,repository_url:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"live_url",className:"block text-sm font-medium text-gray-700",children:"Live URL"}),(0,s.jsx)("input",{type:"url",name:"live_url",id:"live_url",value:g.live_url,onChange:e=>j({...g,live_url:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,s.jsx)("button",{type:"button",onClick:()=>v(!1),className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:h,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:h?"Saving...":N?"Save Changes":"Add Project"})]})]})}),(0,s.jsx)(d.A,{isOpen:b,onClose:()=>y(!1),title:"View Project",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:g.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:g.description||"No description"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Repository URL"}),g.repository_url?(0,s.jsx)("a",{href:g.repository_url,target:"_blank",rel:"noopener noreferrer",className:"mt-1 text-sm text-blue-600 hover:text-blue-800 hover:underline block",children:g.repository_url}):(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-400",children:"No repository URL provided"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Live URL"}),g.live_url?(0,s.jsx)("a",{href:g.live_url,target:"_blank",rel:"noopener noreferrer",className:"mt-1 text-sm text-blue-600 hover:text-blue-800 hover:underline block",children:g.live_url}):(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-400",children:"No live URL provided"})]})]})})]})}},1542:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(5155),l=r(2115),a=r(468),i=r(864),n=r(6743);function o(e){let{isOpen:t,onClose:r,title:o,children:d}=e;return(0,s.jsx)(a.e.Root,{show:t,as:l.Fragment,children:(0,s.jsxs)(i.lG,{as:"div",className:"relative z-50",onClose:r,children:[(0,s.jsx)(a.e.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,s.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,s.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,s.jsx)(a.e.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,s.jsxs)(i.lG.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-[70%] sm:p-6",children:[(0,s.jsx)("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:(0,s.jsxs)("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:r,children:[(0,s.jsx)("span",{className:"sr-only",children:"Close"}),(0,s.jsx)(n.A,{className:"h-6 w-6","aria-hidden":"true"})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(i.lG.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-gray-900 mb-4",children:o}),d]})]})})})})]})})}},2883:(e,t,r)=>{"use strict";r.d(t,{A:()=>o,_:()=>d});var s=r(5155),l=r(2115),a=r(9806),i=r(6046);let n=(0,l.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,l.useState)(null),[d]=(0,l.useState)(()=>(0,a.createClientComponentClient)()),c=(0,i.useRouter)();return(0,l.useEffect)(()=>{let{data:{subscription:e}}=d.auth.onAuthStateChange((e,t)=>{var r;o(null!==(r=null==t?void 0:t.user)&&void 0!==r?r:null),"SIGNED_OUT"===e?c.replace("/login"):"SIGNED_IN"===e&&c.replace("/dashboard")});return d.auth.getSession().then(e=>{var t;let{data:{session:r}}=e;o(null!==(t=null==r?void 0:r.user)&&void 0!==t?t:null)}),()=>{e.unsubscribe()}},[d,c]),(0,s.jsx)(n.Provider,{value:{supabase:d,user:r},children:t})}let d=()=>{let e=(0,l.useContext)(n);if(void 0===e)throw Error("useSupabase must be used inside SupabaseProvider");return e}},351:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(2115);let l=s.forwardRef(function(e,t){let{title:r,titleId:l,...a}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},a),r?s.createElement("title",{id:l},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))})}},e=>{var t=t=>e(e.s=t);e.O(0,[833,377,441,517,358],()=>t(7232)),_N_E=e.O()}]);