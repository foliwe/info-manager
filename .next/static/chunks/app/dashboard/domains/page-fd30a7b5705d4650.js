(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[599],{9969:(e,t,a)=>{Promise.resolve().then(a.bind(a,5924))},5924:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(5155),r=a(2115),l=a(2883),n=a(351),i=a(7917),o=a(8715),d=a(1134),c=a(1542);let m={domain_name:"",registrar:"",date_of_purchase:"",expire_date:"",login:"",password:"",on_cloudflare:!1};function u(){let{supabase:e,user:t}=(0,l._)(),[a,u]=(0,r.useState)([]),[x,h]=(0,r.useState)(!0),[g,p]=(0,r.useState)(!1),[f,b]=(0,r.useState)(!1),[y,j]=(0,r.useState)(!1),[N,v]=(0,r.useState)(!1),[w,_]=(0,r.useState)(m),[k,C]=(0,r.useState)(null),[E,A]=(0,r.useState)(!1);(0,r.useEffect)(()=>{t&&S()},[t]);let S=async()=>{if(t)try{h(!0),C(null);let{data:a,error:s}=await e.from("my_domains").select("*").eq("user_id",t.id).order("domain_name",{ascending:!0});if(s)throw s;u(a||[])}catch(e){console.error("Error fetching domains:",e),C(e.message)}finally{h(!1)}},D=async a=>{if(a.preventDefault(),!t||!t.id){C("You must be logged in to add a domain");return}if(!w.domain_name.trim()){C("Domain name is required");return}try{p(!0),C(null);let{error:a}=await e.from("my_domains").insert([{...w,user_id:t.id}]);if(a)throw console.error("Insert error:",a),a;_(m),b(!1),await S()}catch(e){console.error("Error adding domain:",e),C(e.message)}finally{p(!1)}},L=async()=>{if(!t||!w.id){C("You must be logged in to edit a domain");return}if(!w.domain_name.trim()){C("Domain name is required");return}try{p(!0),C(null);let{error:a}=await e.from("my_domains").update({domain_name:w.domain_name,registrar:w.registrar,date_of_purchase:w.date_of_purchase,expire_date:w.expire_date,login:w.login,password:w.password,on_cloudflare:w.on_cloudflare}).eq("id",w.id).eq("user_id",t.id);if(a)throw a;j(!1),await S()}catch(e){console.error("Error updating domain:",e),C(e.message)}finally{p(!1)}},O=e=>{_({domain_name:e.domain_name,registrar:e.registrar||"",date_of_purchase:e.date_of_purchase||"",expire_date:e.expire_date||"",login:e.login||"",password:e.password||"",on_cloudflare:e.on_cloudflare||!1,id:e.id}),j(!0)},q=e=>{_({domain_name:e.domain_name,registrar:e.registrar||"",date_of_purchase:e.date_of_purchase||"",expire_date:e.expire_date||"",login:e.login||"",password:e.password||"",on_cloudflare:e.on_cloudflare||!1,id:e.id}),v(!0)},P=async a=>{if(!t){C("You must be logged in to delete a domain");return}if(confirm("Are you sure you want to delete this domain?"))try{let{error:s}=await e.from("my_domains").delete().eq("id",a).eq("user_id",t.id);if(s)throw s;await S()}catch(e){console.error("Error deleting domain:",e),C(e.message)}};return x?(0,s.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-gray-900"})}):(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"My Domains"}),(0,s.jsx)("button",{onClick:()=>{_(m),b(!0)},className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Add Domain"})]}),k&&(0,s.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:k}),(0,s.jsx)("div",{className:"bg-white shadow-md rounded my-6",children:(0,s.jsxs)("table",{className:"min-w-full table-auto",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-200 text-gray-600 uppercase text-sm leading-normal",children:[(0,s.jsx)("th",{className:"py-3 px-6 text-left",children:"Domain Name"}),(0,s.jsx)("th",{className:"py-3 px-6 text-left",children:"Registrar"}),(0,s.jsx)("th",{className:"py-3 px-6 text-left",children:"Expire Date"}),(0,s.jsx)("th",{className:"py-3 px-6 text-center",children:"Cloudflare"}),(0,s.jsx)("th",{className:"py-3 px-6 text-center",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"text-gray-600 text-sm",children:a.map(e=>(0,s.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:[(0,s.jsx)("td",{className:"py-3 px-6 text-left",children:e.domain_name}),(0,s.jsx)("td",{className:"py-3 px-6 text-left",children:e.registrar}),(0,s.jsx)("td",{className:"py-3 px-6 text-left",children:e.expire_date}),(0,s.jsx)("td",{className:"py-3 px-6 text-center",children:e.on_cloudflare?(0,s.jsx)("span",{className:"bg-green-200 text-green-600 py-1 px-3 rounded-full text-xs",children:"Yes"}):(0,s.jsx)("span",{className:"bg-red-200 text-red-600 py-1 px-3 rounded-full text-xs",children:"No"})}),(0,s.jsx)("td",{className:"py-3 px-6 text-center",children:(0,s.jsxs)("div",{className:"flex item-center justify-center",children:[(0,s.jsx)("button",{onClick:()=>q(e),className:"w-4 mr-4 transform hover:text-blue-500 hover:scale-110",children:(0,s.jsx)(n.A,{className:"h-4 w-4"})}),(0,s.jsx)("button",{onClick:()=>O(e),className:"w-4 mr-4 transform hover:text-yellow-500 hover:scale-110",children:(0,s.jsx)(i.A,{className:"h-4 w-4"})}),(0,s.jsx)("button",{onClick:()=>P(e.id),className:"w-4 transform hover:text-red-500 hover:scale-110",children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})]})})]},e.id))})]})}),(0,s.jsx)(c.A,{isOpen:f||y,onClose:()=>{b(!1),j(!1),_(m),C(null)},title:y?"Edit Domain":"Add Domain",children:(0,s.jsxs)("form",{onSubmit:D,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Domain Name"}),(0,s.jsx)("input",{type:"text",value:w.domain_name,onChange:e=>_({...w,domain_name:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Registrar"}),(0,s.jsx)("input",{type:"text",value:w.registrar,onChange:e=>_({...w,registrar:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Purchase"}),(0,s.jsx)("input",{type:"date",value:w.date_of_purchase,onChange:e=>_({...w,date_of_purchase:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Expire Date"}),(0,s.jsx)("input",{type:"date",value:w.expire_date,onChange:e=>_({...w,expire_date:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Login"}),(0,s.jsx)("input",{type:"text",value:w.login,onChange:e=>_({...w,login:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:E?"text":"password",value:w.password,onChange:e=>_({...w,password:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),(0,s.jsx)("button",{type:"button",onClick:()=>A(!E),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:E?(0,s.jsx)(d.A,{className:"h-5 w-5 text-gray-400"}):(0,s.jsx)(n.A,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[(0,s.jsx)("input",{type:"checkbox",checked:w.on_cloudflare,onChange:e=>_({...w,on_cloudflare:e.target.checked}),className:"mr-2 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),"On Cloudflare"]})}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{b(!1),j(!1),_(m),C(null)},className:"bg-gray-200 text-gray-700 px-4 py-2 rounded hover:bg-gray-300",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",onClick:y?L:D,disabled:g,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 disabled:bg-blue-300",children:g?"Saving...":y?"Update":"Save"})]})]})}),(0,s.jsx)(c.A,{isOpen:N,onClose:()=>{v(!1),_(m)},title:"View Domain Details",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Domain Name"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:w.domain_name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Registrar"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:w.registrar||"-"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Purchase"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:w.date_of_purchase||"-"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Expire Date"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:w.expire_date||"-"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Login"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:w.login||"-"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,s.jsxs)("div",{className:"flex items-center mt-1",children:[(0,s.jsx)("p",{className:"text-sm text-gray-900",children:E?w.password:"••••••••"}),(0,s.jsx)("button",{type:"button",onClick:()=>A(!E),className:"ml-2",children:E?(0,s.jsx)(d.A,{className:"h-5 w-5 text-gray-400"}):(0,s.jsx)(n.A,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"On Cloudflare"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:w.on_cloudflare?"Yes":"No"})]})]})})]})}},1542:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var s=a(5155),r=a(2115),l=a(468),n=a(864),i=a(6743);function o(e){let{isOpen:t,onClose:a,title:o,children:d}=e;return(0,s.jsx)(l.e.Root,{show:t,as:r.Fragment,children:(0,s.jsxs)(n.lG,{as:"div",className:"relative z-50",onClose:a,children:[(0,s.jsx)(l.e.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,s.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,s.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,s.jsx)(l.e.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,s.jsxs)(n.lG.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-[70%] sm:p-6",children:[(0,s.jsx)("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:(0,s.jsxs)("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:a,children:[(0,s.jsx)("span",{className:"sr-only",children:"Close"}),(0,s.jsx)(i.A,{className:"h-6 w-6","aria-hidden":"true"})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(n.lG.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-gray-900 mb-4",children:o}),d]})]})})})})]})})}},2883:(e,t,a)=>{"use strict";a.d(t,{A:()=>o,_:()=>d});var s=a(5155),r=a(2115),l=a(9806),n=a(6046);let i=(0,r.createContext)(void 0);function o(e){let{children:t}=e,[a,o]=(0,r.useState)(null),[d]=(0,r.useState)(()=>(0,l.createClientComponentClient)()),c=(0,n.useRouter)();return(0,r.useEffect)(()=>{let{data:{subscription:e}}=d.auth.onAuthStateChange((e,t)=>{var a;o(null!==(a=null==t?void 0:t.user)&&void 0!==a?a:null),"SIGNED_OUT"===e?c.replace("/login"):"SIGNED_IN"===e&&c.replace("/dashboard")});return d.auth.getSession().then(e=>{var t;let{data:{session:a}}=e;o(null!==(t=null==a?void 0:a.user)&&void 0!==t?t:null)}),()=>{e.unsubscribe()}},[d,c]),(0,s.jsx)(i.Provider,{value:{supabase:d,user:a},children:t})}let d=()=>{let e=(0,r.useContext)(i);if(void 0===e)throw Error("useSupabase must be used inside SupabaseProvider");return e}},351:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(2115);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))})},1134:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(2115);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))})}},e=>{var t=t=>e(e.s=t);e.O(0,[833,377,441,517,358],()=>t(9969)),_N_E=e.O()}]);