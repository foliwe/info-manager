(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[999],{5349:(e,s,t)=>{Promise.resolve().then(t.bind(t,8928))},8928:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var r=t(5155),a=t(2115),l=t(2883),n=t(351),i=t(7917),o=t(8715),d=t(1134),c=t(1542);let m={website:"",url:"",username:"",password:"",description:""};function u(){let{supabase:e,user:s}=(0,l._)(),[t,u]=(0,a.useState)([]),[x,b]=(0,a.useState)(!0),[h,f]=(0,a.useState)(!1),[g,w]=(0,a.useState)(!1),[p,y]=(0,a.useState)(!1),[j,v]=(0,a.useState)(!1),[N,k]=(0,a.useState)(m),[C,A]=(0,a.useState)(null),[S,E]=(0,a.useState)(!1);(0,a.useEffect)(()=>{s&&F()},[s]);let F=async()=>{if(s)try{b(!0),A(null);let{data:t,error:r}=await e.from("websites").select("*").eq("user_id",s.id).order("website",{ascending:!0});if(r)throw r;u(t||[])}catch(e){console.error("Error fetching websites:",e),A(e.message)}finally{b(!1)}},_=async t=>{if(t.preventDefault(),s){if(!N.website.trim()||!N.url.trim()){A("Website name and URL are required");return}try{f(!0),A(null);let{error:t}=await e.from("websites").insert([{...N,user_id:s.id}]);if(t)throw t;k(m),w(!1),await F()}catch(e){console.error("Error adding website:",e),A(e.message)}finally{f(!1)}}},L=async()=>{if(s&&N.id){if(!N.website.trim()||!N.url.trim()){A("Website name and URL are required");return}try{f(!0),A(null);let{error:t}=await e.from("websites").update({website:N.website,url:N.url,username:N.username,password:N.password,description:N.description}).eq("id",N.id).eq("user_id",s.id);if(t)throw t;v(!1),await F()}catch(e){console.error("Error updating website:",e),A(e.message)}finally{f(!1)}}},W=e=>{k({id:e.id,website:e.website,url:e.url,username:e.username,password:e.password,description:e.description||""}),v(!0)},q=e=>{k({id:e.id,website:e.website,url:e.url,username:e.username,password:e.password,description:e.description||""}),y(!0)},R=async t=>{if(s&&confirm("Are you sure you want to delete this website?"))try{let{error:r}=await e.from("websites").delete().eq("id",t).eq("user_id",s.id);if(r)throw r;await F()}catch(e){console.error("Error deleting website:",e),A(e.message)}};return x?(0,r.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-gray-900"})}):(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Websites"}),(0,r.jsx)("button",{onClick:()=>{k(m),w(!0)},className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Add Website"})]}),C&&(0,r.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:C}),(0,r.jsx)("div",{className:"bg-white shadow-md rounded my-6",children:(0,r.jsxs)("table",{className:"min-w-full table-auto",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-200 text-gray-600 uppercase text-sm leading-normal",children:[(0,r.jsx)("th",{className:"py-3 px-6 text-left",children:"Website"}),(0,r.jsx)("th",{className:"py-3 px-6 text-left",children:"URL"}),(0,r.jsx)("th",{className:"py-3 px-6 text-left",children:"Description"}),(0,r.jsx)("th",{className:"py-3 px-6 text-center",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"text-gray-600 text-sm",children:t.map(e=>(0,r.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:[(0,r.jsx)("td",{className:"py-3 px-6 text-left",children:e.website}),(0,r.jsx)("td",{className:"py-3 px-6 text-left",children:(0,r.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline",children:e.url})}),(0,r.jsx)("td",{className:"py-3 px-6 text-left",children:e.description||"-"}),(0,r.jsx)("td",{className:"py-3 px-6 text-center",children:(0,r.jsxs)("div",{className:"flex item-center justify-center",children:[(0,r.jsx)("button",{onClick:()=>q(e),className:"w-4 mr-4 transform hover:text-blue-500 hover:scale-110",children:(0,r.jsx)(n.A,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:()=>W(e),className:"w-4 mr-4 transform hover:text-yellow-500 hover:scale-110",children:(0,r.jsx)(i.A,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:()=>R(e.id),className:"w-4 transform hover:text-red-500 hover:scale-110",children:(0,r.jsx)(o.A,{className:"h-4 w-4"})})]})})]},e.id))})]})}),(0,r.jsx)(c.A,{isOpen:p,onClose:()=>y(!1),title:"View Website Details",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Website"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:N.website})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"URL"}),(0,r.jsx)("a",{href:N.url,target:"_blank",rel:"noopener noreferrer",className:"mt-1 text-sm text-blue-600 hover:text-blue-800 hover:underline block",children:N.url})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Username"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:N.username})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,r.jsxs)("div",{className:"mt-1 flex items-center",children:[(0,r.jsx)("p",{className:"text-sm text-gray-900",children:S?N.password:"••••••••"}),(0,r.jsx)("button",{onClick:()=>E(!S),className:"ml-2 text-gray-500 hover:text-gray-700",children:S?(0,r.jsx)(d.A,{className:"h-5 w-5"}):(0,r.jsx)(n.A,{className:"h-5 w-5"})})]})]}),N.description&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:N.description})]})]})}),(0,r.jsx)(c.A,{isOpen:j,onClose:()=>v(!1),title:"Edit Website",children:(0,r.jsxs)("form",{onSubmit:L,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700",children:"Website Name"}),(0,r.jsx)("input",{type:"text",name:"website",id:"website",value:N.website,onChange:e=>k({...N,website:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700",children:"URL"}),(0,r.jsx)("input",{type:"url",name:"url",id:"url",value:N.url,onChange:e=>k({...N,url:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),(0,r.jsx)("input",{type:"text",name:"username",id:"username",value:N.username,onChange:e=>k({...N,username:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,r.jsxs)("div",{className:"mt-1 flex rounded-md shadow-sm",children:[(0,r.jsx)("input",{type:S?"text":"password",name:"password",id:"password",value:N.password,onChange:e=>k({...N,password:e.target.value}),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"}),(0,r.jsx)("button",{type:"button",onClick:()=>E(!S),className:"ml-2 inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:S?(0,r.jsx)(d.A,{className:"h-5 w-5"}):(0,r.jsx)(n.A,{className:"h-5 w-5"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,r.jsx)("textarea",{name:"description",id:"description",rows:3,value:N.description,onChange:e=>k({...N,description:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,r.jsx)("button",{type:"button",onClick:()=>v(!1),className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:h,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:h?"Saving...":"Save"})]})]})}),(0,r.jsx)(c.A,{isOpen:g,onClose:()=>w(!1),title:"Add New Website",children:(0,r.jsxs)("form",{onSubmit:_,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"new-website",className:"block text-sm font-medium text-gray-700",children:"Website Name"}),(0,r.jsx)("input",{type:"text",name:"new-website",id:"new-website",value:N.website,onChange:e=>k({...N,website:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"new-url",className:"block text-sm font-medium text-gray-700",children:"URL"}),(0,r.jsx)("input",{type:"url",name:"new-url",id:"new-url",value:N.url,onChange:e=>k({...N,url:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"new-username",className:"block text-sm font-medium text-gray-700",children:"Username"}),(0,r.jsx)("input",{type:"text",name:"new-username",id:"new-username",value:N.username,onChange:e=>k({...N,username:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"new-password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,r.jsxs)("div",{className:"mt-1 flex rounded-md shadow-sm",children:[(0,r.jsx)("input",{type:S?"text":"password",name:"new-password",id:"new-password",value:N.password,onChange:e=>k({...N,password:e.target.value}),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"}),(0,r.jsx)("button",{type:"button",onClick:()=>E(!S),className:"ml-2 inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:S?(0,r.jsx)(d.A,{className:"h-5 w-5"}):(0,r.jsx)(n.A,{className:"h-5 w-5"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"new-description",className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,r.jsx)("textarea",{name:"new-description",id:"new-description",rows:3,value:N.description,onChange:e=>k({...N,description:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,r.jsx)("button",{type:"button",onClick:()=>w(!1),className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:h,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:h?"Adding...":"Add Website"})]})]})})]})}},1542:(e,s,t)=>{"use strict";t.d(s,{A:()=>o});var r=t(5155),a=t(2115),l=t(468),n=t(864),i=t(6743);function o(e){let{isOpen:s,onClose:t,title:o,children:d}=e;return(0,r.jsx)(l.e.Root,{show:s,as:a.Fragment,children:(0,r.jsxs)(n.lG,{as:"div",className:"relative z-50",onClose:t,children:[(0,r.jsx)(l.e.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,r.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,r.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,r.jsx)(l.e.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,r.jsxs)(n.lG.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-[70%] sm:p-6",children:[(0,r.jsx)("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:(0,r.jsxs)("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:t,children:[(0,r.jsx)("span",{className:"sr-only",children:"Close"}),(0,r.jsx)(i.A,{className:"h-6 w-6","aria-hidden":"true"})]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.lG.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-gray-900 mb-4",children:o}),d]})]})})})})]})})}},2883:(e,s,t)=>{"use strict";t.d(s,{A:()=>o,_:()=>d});var r=t(5155),a=t(2115),l=t(9806),n=t(6046);let i=(0,a.createContext)(void 0);function o(e){let{children:s}=e,[t,o]=(0,a.useState)(null),[d]=(0,a.useState)(()=>(0,l.createClientComponentClient)()),c=(0,n.useRouter)();return(0,a.useEffect)(()=>{let{data:{subscription:e}}=d.auth.onAuthStateChange((e,s)=>{var t;o(null!==(t=null==s?void 0:s.user)&&void 0!==t?t:null),"SIGNED_OUT"===e?c.replace("/login"):"SIGNED_IN"===e&&c.replace("/dashboard")});return d.auth.getSession().then(e=>{var s;let{data:{session:t}}=e;o(null!==(s=null==t?void 0:t.user)&&void 0!==s?s:null)}),()=>{e.unsubscribe()}},[d,c]),(0,r.jsx)(i.Provider,{value:{supabase:d,user:t},children:s})}let d=()=>{let e=(0,a.useContext)(i);if(void 0===e)throw Error("useSupabase must be used inside SupabaseProvider");return e}},351:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var r=t(2115);let a=r.forwardRef(function(e,s){let{title:t,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))})},1134:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var r=t(2115);let a=r.forwardRef(function(e,s){let{title:t,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))})}},e=>{var s=s=>e(e.s=s);e.O(0,[833,377,441,517,358],()=>s(5349)),_N_E=e.O()}]);