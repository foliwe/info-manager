(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{8253:(e,s,a)=>{Promise.resolve().then(a.bind(a,7154))},7154:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var t=a(5155),r=a(2115),l=a(6046),n=a(2883);let i=r.forwardRef(function(e,s){let{title:a,titleId:t,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},l),a?r.createElement("title",{id:t},a):null,r.createElement("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 0 0-5.25 5.25v3a3 3 0 0 0-3 3v6.75a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3v-6.75a3 3 0 0 0-3-3v-3c0-2.9-2.35-5.25-5.25-5.25Zm3.75 8.25v-3a3.75 3.75 0 1 0-7.5 0v3h7.5Z",clipRule:"evenodd"}))});function o(){let[e,s]=(0,r.useState)(""),[a,o]=(0,r.useState)(""),[d,u]=(0,r.useState)(""),[c,m]=(0,r.useState)(!1);(0,l.useRouter)();let{supabase:h}=(0,n._)(),x=async s=>{s.preventDefault(),u(""),m(!0);try{let{data:s,error:t}=await h.auth.signInWithPassword({email:e,password:a});if(t)throw t;(null==s?void 0:s.session)&&(window.location.href="/dashboard")}catch(e){console.error("Auth error:",e),u((null==e?void 0:e.message)||"Invalid email or password. Please try again.")}finally{m(!1)}};return(0,t.jsxs)("main",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,t.jsx)("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-indigo-100",children:(0,t.jsx)(i,{className:"h-6 w-6 text-indigo-600","aria-hidden":"true"})}),(0,t.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Welcome Back"}),(0,t.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to access your personal information manager"})]}),(0,t.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,t.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[d&&(0,t.jsx)("div",{className:"mb-4 rounded-md bg-red-50 p-4",children:(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)("div",{className:"ml-3",children:(0,t.jsx)("h3",{className:"text-sm font-medium text-red-800",children:d})})})}),(0,t.jsxs)("form",{className:"space-y-6",onSubmit:x,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>s(e.target.value),className:"block w-full appearance-none rounded-md border border-gray-300 px-3 py-2 placeholder-gray-400 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm",placeholder:"Enter your email"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a,onChange:e=>o(e.target.value),className:"block w-full appearance-none rounded-md border border-gray-300 px-3 py-2 placeholder-gray-400 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm",placeholder:"Enter your password"})})]}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",disabled:c,className:"flex w-full justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Signing in...":"Sign in"})})]})]})})]})}},2883:(e,s,a)=>{"use strict";a.d(s,{A:()=>o,_:()=>d});var t=a(5155),r=a(2115),l=a(9806),n=a(6046);let i=(0,r.createContext)(void 0);function o(e){let{children:s}=e,[a,o]=(0,r.useState)(null),[d]=(0,r.useState)(()=>(0,l.createClientComponentClient)()),u=(0,n.useRouter)();return(0,r.useEffect)(()=>{let{data:{subscription:e}}=d.auth.onAuthStateChange((e,s)=>{var a;o(null!==(a=null==s?void 0:s.user)&&void 0!==a?a:null),"SIGNED_OUT"===e?u.replace("/login"):"SIGNED_IN"===e&&u.replace("/dashboard")});return d.auth.getSession().then(e=>{var s;let{data:{session:a}}=e;o(null!==(s=null==a?void 0:a.user)&&void 0!==s?s:null)}),()=>{e.unsubscribe()}},[d,u]),(0,t.jsx)(i.Provider,{value:{supabase:d,user:a},children:s})}let d=()=>{let e=(0,r.useContext)(i);if(void 0===e)throw Error("useSupabase must be used inside SupabaseProvider");return e}}},e=>{var s=s=>e(e.s=s);e.O(0,[833,441,517,358],()=>s(8253)),_N_E=e.O()}]);