(()=>{var e={};e.id=266,e.ids=[266],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},9428:e=>{"use strict";e.exports=require("buffer")},5511:e=>{"use strict";e.exports=require("crypto")},4735:e=>{"use strict";e.exports=require("events")},1630:e=>{"use strict";e.exports=require("http")},5591:e=>{"use strict";e.exports=require("https")},1645:e=>{"use strict";e.exports=require("net")},3873:e=>{"use strict";e.exports=require("path")},1997:e=>{"use strict";e.exports=require("punycode")},7910:e=>{"use strict";e.exports=require("stream")},4631:e=>{"use strict";e.exports=require("tls")},9551:e=>{"use strict";e.exports=require("url")},4075:e=>{"use strict";e.exports=require("zlib")},7918:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>o.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var t=r(260),a=r(8203),i=r(5155),o=r.n(i),l=r(7292),n={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);r.d(s,n);let d=["",{children:["dashboard",{children:["email",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9341)),"C:\\Users\\foliw\\CascadeProjects\\info-manager\\src\\app\\dashboard\\email\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,3405)),"C:\\Users\\foliw\\CascadeProjects\\info-manager\\src\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1354)),"C:\\Users\\foliw\\CascadeProjects\\info-manager\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,1485,23)),"next/dist/client/components/unauthorized-error"]}],c=["C:\\Users\\foliw\\CascadeProjects\\info-manager\\src\\app\\dashboard\\email\\page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/email/page",pathname:"/dashboard/email",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3152:(e,s,r)=>{Promise.resolve().then(r.bind(r,9341))},2880:(e,s,r)=>{Promise.resolve().then(r.bind(r,9833))},9833:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>u});var t=r(5512),a=r(8009),i=r(3445),o=r(7317),l=r(3193),n=r(8390),d=r(4602),c=r(5902);let m={email:"",password:"",description:""};function u(){let{supabase:e,user:s}=(0,i._)(),[r,u]=(0,a.useState)([]),[x,p]=(0,a.useState)(!0),[h,f]=(0,a.useState)(!1),[b,g]=(0,a.useState)(!1),[w,y]=(0,a.useState)(!1),[j,v]=(0,a.useState)(!1),[N,C]=(0,a.useState)(m),[k,E]=(0,a.useState)(null),[A,q]=(0,a.useState)(null),[P,_]=(0,a.useState)(!1),S=async()=>{if(s)try{p(!0),q(null);let{data:r,error:t}=await e.from("emails").select("*").eq("user_id",s.id).order("id",{ascending:!0});if(t)throw t;u(r||[])}catch(e){console.error("Error fetching emails:",e),q(e.message)}finally{p(!1)}},L=async r=>{if(r.preventDefault(),s){if(q(null),!N.email){q("Email address is required");return}try{f(!0),q(null);let{error:r}=await e.from("emails").insert([{...N,user_id:s.id}]);if(r)throw r;C(m),g(!1),await S()}catch(e){console.error("Error adding email:",e),q(e.message)}finally{f(!1)}}},M=async()=>{if(s&&k){if(!N.email){q("Email address is required");return}try{f(!0),q(null);let{error:r}=await e.from("emails").update({email:N.email,password:N.password,description:N.description}).eq("id",k).eq("user_id",s.id);if(r)throw r;v(!1),E(null),await S()}catch(e){console.error("Error updating email:",e),q(e.message)}finally{f(!1)}}},D=async r=>{if(s&&confirm("Are you sure you want to delete this email?"))try{let{error:t}=await e.from("emails").delete().eq("id",r).eq("user_id",s.id);if(t)throw t;await S()}catch(e){console.error("Error deleting email:",e),q(e.message)}},F=e=>{let{id:s,created_at:r,updated_at:t,user_id:a,...i}=e;C(i),E(s),v(!0)},O=e=>{C(e),y(!0)};return x?(0,t.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-gray-900"})}):(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Email Accounts"}),(0,t.jsx)("button",{onClick:()=>{C(m),g(!0)},className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Add Email"})]}),A&&(0,t.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:A}),(0,t.jsx)("div",{className:"bg-white shadow-md rounded my-6",children:(0,t.jsxs)("table",{className:"min-w-full table-auto",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-200 text-gray-600 uppercase text-sm leading-normal",children:[(0,t.jsx)("th",{className:"py-3 px-6 text-left",children:"Email"}),(0,t.jsx)("th",{className:"py-3 px-6 text-left",children:"Description"}),(0,t.jsx)("th",{className:"py-3 px-6 text-center",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"text-gray-600 text-sm",children:r.map(e=>(0,t.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:[(0,t.jsx)("td",{className:"py-3 px-6 text-left",children:e.email}),(0,t.jsx)("td",{className:"py-3 px-6 text-left",children:e.description||"-"}),(0,t.jsx)("td",{className:"py-3 px-6 text-center",children:(0,t.jsxs)("div",{className:"flex item-center justify-center",children:[(0,t.jsx)("button",{onClick:()=>O(e),className:"w-4 mr-4 transform hover:text-blue-500 hover:scale-110",children:(0,t.jsx)(o.A,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>F(e),className:"w-4 mr-4 transform hover:text-yellow-500 hover:scale-110",children:(0,t.jsx)(l.A,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>D(e.id),className:"w-4 transform hover:text-red-500 hover:scale-110",children:(0,t.jsx)(n.A,{className:"h-4 w-4"})})]})})]},e.id))})]})}),(0,t.jsx)(c.A,{isOpen:w,onClose:()=>y(!1),title:"View Email Details",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:N.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,t.jsxs)("div",{className:"mt-1 flex items-center",children:[(0,t.jsx)("p",{className:"text-sm text-gray-900",children:P?N.password:"••••••••"}),(0,t.jsx)("button",{onClick:()=>_(!P),className:"ml-2 text-gray-500 hover:text-gray-700",children:P?(0,t.jsx)(d.A,{className:"h-5 w-5"}):(0,t.jsx)(o.A,{className:"h-5 w-5"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:N.description||"No description"})]})]})}),(0,t.jsx)(c.A,{isOpen:j,onClose:()=>v(!1),title:"Edit Email",children:(0,t.jsxs)("form",{onSubmit:M,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,t.jsx)("input",{type:"email",name:"email",id:"email",value:N.email,onChange:e=>C({...N,email:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,t.jsxs)("div",{className:"mt-1 flex rounded-md shadow-sm",children:[(0,t.jsx)("input",{type:P?"text":"password",name:"password",id:"password",value:N.password,onChange:e=>C({...N,password:e.target.value}),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"}),(0,t.jsx)("button",{type:"button",onClick:()=>_(!P),className:"ml-2 inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:P?(0,t.jsx)(d.A,{className:"h-5 w-5"}):(0,t.jsx)(o.A,{className:"h-5 w-5"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,t.jsx)("textarea",{name:"description",id:"description",rows:3,value:N.description,onChange:e=>C({...N,description:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,t.jsx)("button",{type:"button",onClick:()=>v(!1),className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",disabled:h,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:h?"Saving...":"Save"})]})]})}),(0,t.jsx)(c.A,{isOpen:b,onClose:()=>g(!1),title:"Add New Email",children:(0,t.jsxs)("form",{onSubmit:L,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"new-email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,t.jsx)("input",{type:"email",name:"new-email",id:"new-email",value:N.email,onChange:e=>C({...N,email:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"new-password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,t.jsxs)("div",{className:"mt-1 flex rounded-md shadow-sm",children:[(0,t.jsx)("input",{type:P?"text":"password",name:"new-password",id:"new-password",value:N.password,onChange:e=>C({...N,password:e.target.value}),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"}),(0,t.jsx)("button",{type:"button",onClick:()=>_(!P),className:"ml-2 inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:P?(0,t.jsx)(d.A,{className:"h-5 w-5"}):(0,t.jsx)(o.A,{className:"h-5 w-5"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"new-description",className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,t.jsx)("textarea",{name:"new-description",id:"new-description",rows:3,value:N.description,onChange:e=>C({...N,description:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,t.jsx)("button",{type:"button",onClick:()=>g(!1),className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",disabled:h,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:h?"Adding...":"Add Email"})]})]})})]})}},9341:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\foliw\\\\CascadeProjects\\\\info-manager\\\\src\\\\app\\\\dashboard\\\\email\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\foliw\\CascadeProjects\\info-manager\\src\\app\\dashboard\\email\\page.tsx","default")},7317:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});var t=r(8009);let a=t.forwardRef(function({title:e,titleId:s,...r},a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))})},4602:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});var t=r(8009);let a=t.forwardRef(function({title:e,titleId:s,...r},a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))})}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[10,335,507,894,662],()=>r(7918));module.exports=t})();