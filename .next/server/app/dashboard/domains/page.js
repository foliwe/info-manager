(()=>{var e={};e.id=599,e.ids=[599],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},9428:e=>{"use strict";e.exports=require("buffer")},5511:e=>{"use strict";e.exports=require("crypto")},4735:e=>{"use strict";e.exports=require("events")},1630:e=>{"use strict";e.exports=require("http")},5591:e=>{"use strict";e.exports=require("https")},1645:e=>{"use strict";e.exports=require("net")},3873:e=>{"use strict";e.exports=require("path")},1997:e=>{"use strict";e.exports=require("punycode")},7910:e=>{"use strict";e.exports=require("stream")},4631:e=>{"use strict";e.exports=require("tls")},9551:e=>{"use strict";e.exports=require("url")},4075:e=>{"use strict";e.exports=require("zlib")},2886:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=t(260),a=t(8203),n=t(5155),o=t.n(n),i=t(7292),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(r,l);let d=["",{children:["dashboard",{children:["domains",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3364)),"C:\\Users\\foliw\\CascadeProjects\\info-manager\\src\\app\\dashboard\\domains\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,3405)),"C:\\Users\\foliw\\CascadeProjects\\info-manager\\src\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,1354)),"C:\\Users\\foliw\\CascadeProjects\\info-manager\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,1485,23)),"next/dist/client/components/unauthorized-error"]}],c=["C:\\Users\\foliw\\CascadeProjects\\info-manager\\src\\app\\dashboard\\domains\\page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/domains/page",pathname:"/dashboard/domains",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9548:(e,r,t)=>{Promise.resolve().then(t.bind(t,3364))},1767:(e,r,t)=>{Promise.resolve().then(t.bind(t,7944))},7944:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var s=t(5512),a=t(8009),n=t(3445),o=t(7317),i=t(3193),l=t(8390),d=t(4602),c=t(5902);let m={domain_name:"",registrar:"",date_of_purchase:"",expire_date:"",login:"",password:"",on_cloudflare:!1};function u(){let{supabase:e,user:r}=(0,n._)(),[t,u]=(0,a.useState)([]),[x,p]=(0,a.useState)(!0),[h,g]=(0,a.useState)(!1),[f,b]=(0,a.useState)(!1),[y,j]=(0,a.useState)(!1),[v,_]=(0,a.useState)(!1),[w,N]=(0,a.useState)(m),[k,C]=(0,a.useState)(null),[q,P]=(0,a.useState)(!1),A=async()=>{if(r)try{p(!0),C(null);let{data:t,error:s}=await e.from("my_domains").select("*").eq("user_id",r.id).order("domain_name",{ascending:!0});if(s)throw s;u(t||[])}catch(e){console.error("Error fetching domains:",e),C(e.message)}finally{p(!1)}},E=async t=>{if(t.preventDefault(),!r||!r.id){C("You must be logged in to add a domain");return}if(!w.domain_name.trim()){C("Domain name is required");return}try{g(!0),C(null);let{error:t}=await e.from("my_domains").insert([{...w,user_id:r.id}]);if(t)throw console.error("Insert error:",t),t;N(m),b(!1),await A()}catch(e){console.error("Error adding domain:",e),C(e.message)}finally{g(!1)}},D=async()=>{if(!r||!w.id){C("You must be logged in to edit a domain");return}if(!w.domain_name.trim()){C("Domain name is required");return}try{g(!0),C(null);let{error:t}=await e.from("my_domains").update({domain_name:w.domain_name,registrar:w.registrar,date_of_purchase:w.date_of_purchase,expire_date:w.expire_date,login:w.login,password:w.password,on_cloudflare:w.on_cloudflare}).eq("id",w.id).eq("user_id",r.id);if(t)throw t;j(!1),await A()}catch(e){console.error("Error updating domain:",e),C(e.message)}finally{g(!1)}},S=e=>{N({domain_name:e.domain_name,registrar:e.registrar||"",date_of_purchase:e.date_of_purchase||"",expire_date:e.expire_date||"",login:e.login||"",password:e.password||"",on_cloudflare:e.on_cloudflare||!1,id:e.id}),j(!0)},L=e=>{N({domain_name:e.domain_name,registrar:e.registrar||"",date_of_purchase:e.date_of_purchase||"",expire_date:e.expire_date||"",login:e.login||"",password:e.password||"",on_cloudflare:e.on_cloudflare||!1,id:e.id}),_(!0)},M=async t=>{if(!r){C("You must be logged in to delete a domain");return}if(confirm("Are you sure you want to delete this domain?"))try{let{error:s}=await e.from("my_domains").delete().eq("id",t).eq("user_id",r.id);if(s)throw s;await A()}catch(e){console.error("Error deleting domain:",e),C(e.message)}};return x?(0,s.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-gray-900"})}):(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"My Domains"}),(0,s.jsx)("button",{onClick:()=>{N(m),b(!0)},className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Add Domain"})]}),k&&(0,s.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:k}),(0,s.jsx)("div",{className:"bg-white shadow-md rounded my-6",children:(0,s.jsxs)("table",{className:"min-w-full table-auto",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-200 text-gray-600 uppercase text-sm leading-normal",children:[(0,s.jsx)("th",{className:"py-3 px-6 text-left",children:"Domain Name"}),(0,s.jsx)("th",{className:"py-3 px-6 text-left",children:"Registrar"}),(0,s.jsx)("th",{className:"py-3 px-6 text-left",children:"Expire Date"}),(0,s.jsx)("th",{className:"py-3 px-6 text-center",children:"Cloudflare"}),(0,s.jsx)("th",{className:"py-3 px-6 text-center",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"text-gray-600 text-sm",children:t.map(e=>(0,s.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:[(0,s.jsx)("td",{className:"py-3 px-6 text-left",children:e.domain_name}),(0,s.jsx)("td",{className:"py-3 px-6 text-left",children:e.registrar}),(0,s.jsx)("td",{className:"py-3 px-6 text-left",children:e.expire_date}),(0,s.jsx)("td",{className:"py-3 px-6 text-center",children:e.on_cloudflare?(0,s.jsx)("span",{className:"bg-green-200 text-green-600 py-1 px-3 rounded-full text-xs",children:"Yes"}):(0,s.jsx)("span",{className:"bg-red-200 text-red-600 py-1 px-3 rounded-full text-xs",children:"No"})}),(0,s.jsx)("td",{className:"py-3 px-6 text-center",children:(0,s.jsxs)("div",{className:"flex item-center justify-center",children:[(0,s.jsx)("button",{onClick:()=>L(e),className:"w-4 mr-4 transform hover:text-blue-500 hover:scale-110",children:(0,s.jsx)(o.A,{className:"h-4 w-4"})}),(0,s.jsx)("button",{onClick:()=>S(e),className:"w-4 mr-4 transform hover:text-yellow-500 hover:scale-110",children:(0,s.jsx)(i.A,{className:"h-4 w-4"})}),(0,s.jsx)("button",{onClick:()=>M(e.id),className:"w-4 transform hover:text-red-500 hover:scale-110",children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})]})})]},e.id))})]})}),(0,s.jsx)(c.A,{isOpen:f||y,onClose:()=>{b(!1),j(!1),N(m),C(null)},title:y?"Edit Domain":"Add Domain",children:(0,s.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Domain Name"}),(0,s.jsx)("input",{type:"text",value:w.domain_name,onChange:e=>N({...w,domain_name:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Registrar"}),(0,s.jsx)("input",{type:"text",value:w.registrar,onChange:e=>N({...w,registrar:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Purchase"}),(0,s.jsx)("input",{type:"date",value:w.date_of_purchase,onChange:e=>N({...w,date_of_purchase:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Expire Date"}),(0,s.jsx)("input",{type:"date",value:w.expire_date,onChange:e=>N({...w,expire_date:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Login"}),(0,s.jsx)("input",{type:"text",value:w.login,onChange:e=>N({...w,login:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:q?"text":"password",value:w.password,onChange:e=>N({...w,password:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),(0,s.jsx)("button",{type:"button",onClick:()=>P(!q),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:q?(0,s.jsx)(d.A,{className:"h-5 w-5 text-gray-400"}):(0,s.jsx)(o.A,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[(0,s.jsx)("input",{type:"checkbox",checked:w.on_cloudflare,onChange:e=>N({...w,on_cloudflare:e.target.checked}),className:"mr-2 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),"On Cloudflare"]})}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{b(!1),j(!1),N(m),C(null)},className:"bg-gray-200 text-gray-700 px-4 py-2 rounded hover:bg-gray-300",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",onClick:y?D:E,disabled:h,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 disabled:bg-blue-300",children:h?"Saving...":y?"Update":"Save"})]})]})}),(0,s.jsx)(c.A,{isOpen:v,onClose:()=>{_(!1),N(m)},title:"View Domain Details",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Domain Name"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:w.domain_name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Registrar"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:w.registrar||"-"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Purchase"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:w.date_of_purchase||"-"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Expire Date"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:w.expire_date||"-"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Login"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:w.login||"-"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,s.jsxs)("div",{className:"flex items-center mt-1",children:[(0,s.jsx)("p",{className:"text-sm text-gray-900",children:q?w.password:"••••••••"}),(0,s.jsx)("button",{type:"button",onClick:()=>P(!q),className:"ml-2",children:q?(0,s.jsx)(d.A,{className:"h-5 w-5 text-gray-400"}):(0,s.jsx)(o.A,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"On Cloudflare"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:w.on_cloudflare?"Yes":"No"})]})]})})]})}},3364:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\foliw\\\\CascadeProjects\\\\info-manager\\\\src\\\\app\\\\dashboard\\\\domains\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\foliw\\CascadeProjects\\info-manager\\src\\app\\dashboard\\domains\\page.tsx","default")},7317:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});var s=t(8009);let a=s.forwardRef(function({title:e,titleId:r,...t},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},t),e?s.createElement("title",{id:r},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))})},4602:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});var s=t(8009);let a=s.forwardRef(function({title:e,titleId:r,...t},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},t),e?s.createElement("title",{id:r},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))})}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[10,335,507,894,662],()=>t(2886));module.exports=s})();